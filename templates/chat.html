{% extends 'base.html' %}

{% block css %}
    <link href="media/js/highlight/default.css" rel="stylesheet" type="text/css">
{% endblock %}

{% block js %}
    <script type="text/javascript" src="media/js/highlight/highlight.pack.js"></script>
    <script type="text/javascript" src="socket.io/socket.io.js"></script>
    <script type="text/javascript" src="media/js/util/message.js"></script>
    <script type="text/javascript" src="media/js/models.js"></script>
    <script type="text/javascript" src="media/js/views.js"></script>
    <script type="text/javascript" src="media/js/client.js"></script>
    <script type="text/javascript">
        window.client = new window.LCB.Client();
        $(function() {
           window.client.start();
        });
    </script>
{% endblock %}

{% block templates %}
    {% include 'includes/js-templates.html' %}
{% endblock %}

{% block body %}
    <div id="lcb-client" class="lcb-client">
        <div class="lcb-header">
            <button type="button" class="btn lcb-header-toggle" onclick="$('.lcb-client').toggleClass('lcb-sidebar-opened')">
                <i class="fa fa-bars"></i>
            </button>
            <div class="lcb-header-logo">Let's Chat</div>
        </div>
        <section class="lcb-sidebar">  
            <div class="dropdown">
            <a class="lcb-account-button dropdown-toggle" data-toggle="dropdown">
                <img class="lcb-account-button-avatar lcb-avatar" src="http://www.gravatar.com/avatar/bfa5bfae39ce7bdd1e0f385c961d4afa?s=50" />
                <span class="lcb-account-button-name">{{ account.displayName }}</span>
                <span class="lcb-account-button-username">@{{ account.screenName }}</span> 
                <i class="lcb-account-button-chevron fa fa-chevron-down"></i>
            </a>
            <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="dropdownMenu1">
                <li><a data-toggle="modal" href="#edit-profile"><i class="icon-edit"></i> Edit Profile</a></li>
                <li><a data-toggle="modal" href="#edit-account"><i class="icon-cog"></i> Account Settings</a></li>
                <li><a data-toggle="modal" href="#experimental-features"><i class="icon-beaker"></i> Experimental</a></li>
                <li class="divider"></li>
                <li><a href="/logout"><i class="icon-signout"></i> Logout</a></li>
            </ul>
            </div>

            <div class="lcb-status-indicators">
                <span class="lcb-status-indicator lcb-status-indicator-error lcb-status-connection" data-status="disconnected" style="display: none;">
                    <i class="fa fa-plug"></i> Disconnected
                </span>
                <span class="lcb-status-indicator lcb-status-connection" data-status="connected" style="display: none;">
                    <i class="fa fa-refresh"></i> Connected
                </span>
                <span class="lcb-status-indicator lcb-status-connection" style="display: none;">
                    <i class="fa fa-bell-slash"></i>
                </span>
            </div>
            <ul class="lcb-tabs">
                <li data-id="list" class="lcb-tab lcb-tab-home">
                    <a href="#!/">
                        <i class="fa fa-th"></i>
                    </a>
                </li>
            </ul>
        </section>
        <section class="lcb-panes">
            <div class="lcb-rooms-browser lcb-pane" data-id="list" style="display: none;">
                {% include 'includes/add-room-modal.html' %}
                <ul class="lcb-rooms-list">
                    <li class="lcb-rooms-list-item" data-id="{{id}}">
                        <a data-toggle="modal" data-target="#lcb-add-room" href="#!/rooms/add">
                            <i class="fa fa-plus"> New Room</i>
                        </a>
                        <div class="lcb-rooms-list-item-description">Create a new room.</div>
                    </li>
                </ul>
            </div>
        </section>
        <div class="lcb-loading lcb-client-loading">
            <img class="lcb-loading-indicator" src="media/img/loading.svg" alt="Loading..." />
        </div>
    </div><!-- lcb-client end -->
{% endblock %}
